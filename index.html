---
layout: default
---

<section class="blog-hero">
  <h1>Blog Posts</h1>
  <p class="hero-subtitle">
    Short stories, experiments, and notes from building things. New posts appear
    here as they ship.
  </p>
</section>

<div class="view-toggle" role="group" aria-label="Post view toggle">
  <button class="view-toggle-btn is-active" type="button" data-view="cards" aria-pressed="true">Cards</button>
  <button class="view-toggle-btn" type="button" data-view="list" aria-pressed="false">List</button>
</div>

<div class="view-panel view-cards is-active">
  <div class="posts post-list">
    {% for post in paginator.posts %}
      <article class="post-card">
        <a class="post-card-media" href="{{ site.baseurl }}{{ post.url }}">
          {% if post.image %}
            <img src="{{ site.baseurl }}{{ post.image }}" alt="{{ post.title }}" />
          {% else %}
            <div class="post-card-placeholder" aria-hidden="true">
              <span>{{ site.name | slice: 0, 1 }}</span>
            </div>
          {% endif %}
        </a>
        <div class="post-card-content">
          <div class="post-meta">
            <div class="post-tags-inline">
              {% if post.categories %}
                {% for cat in post.categories %}
                  <span class="post-tag">{{ cat }}</span>
                {% endfor %}
              {% endif %}
              {% if post.tags %}
                {% for tag in post.tags %}
                  <span class="post-tag post-tag--light">{{ tag }}</span>
                {% endfor %}
              {% endif %}
            </div>
            <span class="post-meta-text">{{ site.name }}</span>
            <span class="post-meta-text">{{ post.date | date: "%-d %b %Y" }}</span>
          </div>
          <h2 class="post-title">
            <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a>
          </h2>
          <p class="post-excerpt">{{ post.excerpt | strip_html | truncate: 180 }}</p>
          <a href="{{ site.baseurl }}{{ post.url }}" class="post-read-more">Read more â†’</a>
        </div>
      </article>
    {% endfor %}
  </div>
</div>

<div class="view-panel view-list">
  <div class="post-list-simple">
    {% for post in paginator.posts %}
      {% assign clean_excerpt = post.excerpt | strip_html | strip_newlines | replace: '  ', ' ' %}
      {% assign first_sentence = clean_excerpt | split: '.' | first %}
      {% if clean_excerpt contains '.' %}
        {% assign first_sentence = first_sentence | append: '.' %}
      {% endif %}
      <a class="post-row" href="{{ site.baseurl }}{{ post.url }}">
        <span class="post-row-date">{{ post.date | date: "%B %e, %Y" }}</span>
        <span class="post-row-title">{{ post.title }}</span>
        <span class="post-row-excerpt">{{ first_sentence }}</span>
      </a>
    {% endfor %}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var buttons = document.querySelectorAll('.view-toggle-btn');
    var panels = document.querySelectorAll('.view-panel');
    if (!buttons.length || !panels.length) return;

    function setView(view) {
      panels.forEach(function (panel) {
        panel.classList.toggle('is-active', panel.classList.contains('view-' + view));
      });
      buttons.forEach(function (btn) {
        var active = btn.dataset.view === view;
        btn.classList.toggle('is-active', active);
        btn.setAttribute('aria-pressed', active ? 'true' : 'false');
      });
      try {
        window.localStorage.setItem('blogView', view);
      } catch (e) {}
    }

    buttons.forEach(function (btn) {
      btn.addEventListener('click', function () {
        setView(btn.dataset.view);
      });
    });

    try {
      var stored = window.localStorage.getItem('blogView');
      if (stored === 'list' || stored === 'cards') {
        setView(stored);
      }
    } catch (e) {}
  });
</script>
  <!-- pagination -->
  {% if paginator.total_pages > 1 %}
  <div class="pagination">
    {% if paginator.previous_page %}
      <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">&laquo; Prev</a>
    {% else %}
      <span>&laquo; Prev</span>
    {% endif %}

    {% for page in (1..paginator.total_pages) %}
      {% if page == paginator.page %}
        <span class="webjeda">{{ page }}</span>
      {% elsif page == 1 %}
        <a href="{{ '/' | prepend: site.baseurl | replace: '//', '/' }}">{{ page }}</a>
      {% else %}
        <a href="{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}">{{ page }}</a>
      {% endif %}
    {% endfor %}

    {% if paginator.next_page %}
      <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">Next &raquo;</a>
    {% else %}
      <span>Next &raquo;</span>
    {% endif %}
  </div>
  {% endif %}

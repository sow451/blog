---
layout: default
---

<section class="blog-hero">
  <h1>Blog Posts</h1>
  <p class="hero-subtitle">
    Short stories, experiments, and notes from building things. New posts appear
    here as they ship.
  </p>
</section>

<div class="blog-controls">
  {% include view-toggle.html label="Post view toggle" %}
</div>

    <div class="view-panel view-cards is-active">
      <div class="posts post-list">
        {% for post in paginator.posts %}
          {% include post-card.html post=post %}
        {% endfor %}
      </div>
    </div>

    <div class="view-panel view-list">
      <div class="post-list-simple">
        {% for post in paginator.posts %}
          {% include post-row.html post=post %}
        {% endfor %}
      </div>
    </div>

{% if paginator.total_pages > 1 %}
  <div class="pagination">
    {% if paginator.previous_page %}
      <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">&laquo; Prev</a>
    {% else %}
      <span>&laquo; Prev</span>
    {% endif %}

    {% for page in (1..paginator.total_pages) %}
      {% if page == paginator.page %}
        <span class="webjeda">{{ page }}</span>
      {% elsif page == 1 %}
        <a href="{{ '/' | prepend: site.baseurl | replace: '//', '/' }}">{{ page }}</a>
      {% else %}
        <a href="{{ site.paginate_path | prepend: site.baseurl | replace: '//', '/' | replace: ':num', page }}">{{ page }}</a>
      {% endif %}
    {% endfor %}

    {% if paginator.next_page %}
      <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">Next &raquo;</a>
    {% else %}
      <span>Next &raquo;</span>
    {% endif %}
  </div>
{% endif %}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var buttons = document.querySelectorAll('.view-toggle-btn');
    var panels = document.querySelectorAll('.view-panel');
    if (!buttons.length || !panels.length) return;

    function setView(view) {
      panels.forEach(function (panel) {
        panel.classList.toggle('is-active', panel.classList.contains('view-' + view));
      });
      buttons.forEach(function (btn) {
        var active = btn.dataset.view === view;
        btn.classList.toggle('is-active', active);
        btn.setAttribute('aria-pressed', active ? 'true' : 'false');
      });
      try {
        window.localStorage.setItem('blogView', view);
      } catch (e) {}
    }

    buttons.forEach(function (btn) {
      btn.addEventListener('click', function () {
        setView(btn.dataset.view);
      });
    });

    try {
      var stored = window.localStorage.getItem('blogView');
      if (stored === 'list' || stored === 'cards') {
        setView(stored);
      }
    } catch (e) {}
  });
</script>
